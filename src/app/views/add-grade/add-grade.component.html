<!--Authors: Dmitry Bashmakov, Mathias Donath, Josh Fagen, Lidiya Sokolovskya-->
<!--Date Created: April 9, 2019-->
<!--Last Modified: April 14, 2019-->
<!--Main Purpose: HTML component for current assignment  -->



<h2>Assignment #{{this.assignmentId}}</h2>

<div style="padding: 32px">

    <div *ngIf="assignments">
        <!--Use mat-table to display all submissions for a given assignment-->
        <mat-table #table [dataSource]="assignments" class="mat-elevation-z8">


            <ng-container matColumnDef="ass_id">
                <mat-header-cell *matHeaderCellDef class="customWidthClass"> ass_id </mat-header-cell>
                <mat-cell *matCellDef="let element" class="customWidthClass"> {{element.assignmentId}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="studentid">
                <mat-header-cell *matHeaderCellDef class="customWidthClass"> Student ID </mat-header-cell>
                <mat-cell *matCellDef="let element" class="customWidthClass"> {{element.studentid}} </mat-cell>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef class="customWidthClass"> Date </mat-header-cell>
                <mat-cell *matCellDef="let element " class="customWidthClass"> {{element.date}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="submission" class="flex-item">
                <mat-header-cell *matHeaderCellDef > submission </mat-header-cell>
                <mat-cell *matCellDef="let element" > {{element.submission}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="currentgrade" >
                <mat-header-cell *matHeaderCellDef > current grade </mat-header-cell>
                <mat-cell *matCellDef="let element" id="current-grade"> {{element.grade}}% </mat-cell>
            </ng-container>
            <!--Small form to set/update grade...[(ngModel)] enters new grade as is typed.-->
            <ng-container matColumnDef="grade">
                <mat-header-cell *matHeaderCellDef> Grade (from 0 to 100) </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <mat-form-field>
                        <input matInput placeholder="Add Grade"  type="number" min="0" max="100" step="1" [(ngModel)]="element.grade">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="submitGrade">
                <mat-header-cell *matHeaderCellDef [ngClass]="'customWidthClass'"> Submit Grade </mat-header-cell>
                <mat-cell *matCellDef="let element" [ngClass]="'customWidthClass'">
                    <button mat-raised-button color="primary" type="button" id= "{{element.studentid}}" (click)="addGrade(element.studentid, element.grade)">Save</button>
                </mat-cell>
            </ng-container>



            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

    </div>

</div>

